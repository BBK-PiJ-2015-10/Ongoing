package adatastructures.threadedtree;

import java.util.Stack;

public class BinaryTree<T extends Comparable> {
	
	Node<T> root;
	
	public BinaryTree(){
		root = null;
	}
	
	public void insert(T data){
		root = insert(root, data);
	}
	
	
	public Node<T> insert(Node<T> node, T data){
		if (node==null){
			//System.out.println("Inserting: " +data);
			node = new Node<T>(data);
		}
		else if (node.getData().compareTo(data)==1){
			//System.out.println("Ale tonto");
			//System.out.println("Moving to left since: " +node.getData() +" is greater than " +data );
			node.setLeft(insert(node.getLeft(),data));
		}
		else if (node.getData().compareTo(data)==-1) {
			//System.out.println("Moving to right since: " +node.getData() +" is less than " +data );
			node.setRight(insert(node.getRight(),data));
		}
		return node;
	}
	
	
	public void preOrder(){
		preOrder(root);
		System.out.println();
	}
	
	private void preOrder(Node<T> node){
		if (node!=null){		
			System.out.print(node.getData()+",");
			preOrder(node.getLeft());
			preOrder(node.getRight());
		}
	}
	
	
	public void inOrderSol(){
		if (root==null){
			return;
		}
		Stack<Node<T>> stack = new Stack();
		Node<T> temp = root;
		while (true){
			if (temp!=null){
				stack.push(temp);
				temp=temp.getLeft();
			}
			else {
				if (stack.isEmpty()){
					return;
				}
				temp=stack.pop();
			    System.out.println(temp.getData());
			    temp=temp.getRight();
			}
		}
	}
	
	public void goLeft(Node<T> node, Stack<Node<T>> stack){
		if (node!=null){
			stack.push(node);
		}
		if (node.getLeft()!=null){
			goLeft(node.getLeft(),stack);
		}
	}
	
	

	public void inOrderLoop(){
		if (root==null){
			return;
		}
		Stack<Node<T>> stack = new Stack();
		stack.push(root);
		Node<T> temp = root;
		System.out.println("Temp is now " +temp.getData());
		
		
		
		while (!stack.isEmpty()){
			
			while(temp.getLeft()!=null){
				//System.out.println("Pushing from left: "+temp.getLeft().getData());
				stack.push(temp.getLeft());
				temp = temp.getLeft();
				//System.out.println("Temp from left is now " +temp.getData());
			}
				temp = stack.pop();
				System.out.print(temp.getData()+",");
				if (temp.getRight()!=null){
					//System.out.println("Pushing from right: "+temp.getRight().getData());
					stack.push(temp.getRight());
					temp=temp.getRight();
					System.out.println("Temp from right is now " +temp.getData());
				}
				else {
					
				}
			}
		}
	}

	
	public int size(){
		return size(root);	
	}
	
	private int size (Node<T> node){
		if (node==null){
			return 0;
		}
		else {
			return 1 + size(node.getLeft())+size(node.getRight());
		}
	}
	
	
	

}
