package com.gontuseries.hellocontroller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.validation.BindingResult;

import java.util.Map;

@Controller
public class StudentAdmissionController2 {

	@RequestMapping(value="/admissionForm6.html",method=RequestMethod.GET)
	public ModelAndView getAdmission6(){
		ModelAndView model6 = new ModelAndView("AdmissionForm6");
		return model6;
	}
	
	
	//Example of a model attribute allocation on a matter
	@ModelAttribute
	public void addingCommonObjects(Model model){
		model.addAttribute("headerMessage","University of London - Birkbeck");
	}
		

	
	//BindingResult is to catch error on binding
	@RequestMapping(value="/submitAdmissionForm6.html",method=RequestMethod.POST)
	public ModelAndView submitAdmissionForm6(@ModelAttribute("student6") StudentIncrementalWithAddress student6, BindingResult result){
		
		if (result.hasErrors()){
			
			ModelAndView model6 = new ModelAndView("AdmissionForm6");
			return model6;
			
		}
		
		ModelAndView model6 = new ModelAndView("AdmissionSuccess6");
		return model6;
		
	}
	
	
	

	
}
