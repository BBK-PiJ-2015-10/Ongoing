package com.gontuseries.hellocontroller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.validation.BindingResult;

import java.util.Map;

@Controller
public class StudentAdmissionController2 {

	@RequestMapping(value="/admissionForm7.html",method=RequestMethod.GET)
	public ModelAndView getAdmission7(){
		ModelAndView model7 = new ModelAndView("AdmissionForm7");
		return model7;
	}
	
	
	//Example of a model attribute allocation on a matter
	@ModelAttribute
	public void addingCommonObjects(Model model){
		model.addAttribute("headerMessage","University of London - Birkbeck");
	}
		

	
	//BindingResult is to catch error on binding
	@RequestMapping(value="/submitAdmissionForm7.html",method=RequestMethod.POST)
	public ModelAndView submitAdmissionForm7(@ModelAttribute("student7") StudentIncrementalWithAddress student6, BindingResult result){
		
		if (result.hasErrors()){
			
			ModelAndView model7 = new ModelAndView("AdmissionForm7");
			return model7;
			
		}
		
		ModelAndView model7 = new ModelAndView("AdmissionSuccess7");
		return model7;
		
	}
	
	
	

	
}
